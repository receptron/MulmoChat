# The Dawn of the AI-Native Operating System

ChatGPTがOpenAIから発表されて3年が経とうとしています。その後、Function Call、MCP、Code Interpreter、Artifact、Multi-modal LLM、Agentなど、数多くの仕組みが生まれました。しかし、ChatGPTの基本的なインターフェイスはいまだに「テキストベースのチャット」に留まっています。

私たちソフトウェア・エンジニアの間で、Claude Codeのようなチャット形式のプログラミング環境が広く使われている事実は、LLMと人間の間の**自然言語インターフェイス（Natural Language Interface）**が、既存のGUIを超えるポテンシャルを持つことを示しています。

一方、MicrosoftのCoPilotのように、従来のアプリケーション（Excelなど）に自然言語インターフェイスを後付けする試みは、必ずしも成功していません。それは、これらのアプリケーションが「LLMが存在しない時代の設計思想」に基づいているからです。

同じ理由で、LLMにブラウザや既存アプリを操作させるアプローチにも限界があります。真にAIネイティブなアプローチとは、アプリケーションの機能をAPIとしてLLMに提示し、ユーザーの意図（Intent）を一連のAPIコールに変換することです。LLMが、ユーザーとアプリケーションの間のインタープリタの役割を果たすのです。

つまり、自然言語を理解するLLMの存在を前提としたAI-NativeなコンピュータのUser Experienceは、ユーザーとLLMの間のNLUIと、ユーザーとアプリケーションの間のGUIを融合したユーザー体験を提供すべきであり、アプリケーションのアーキテクチャそのものも従来とは大きく異なるものである必要があるのです。

本稿では、「AI-Nativeなコンピュータ（OS）のUser Experienceとアプリケーション・アーキテクチャ」という視点から、業界全体が向かうべき方向性を示すために設計された**MulmoChat（Multi-modal Chat）**というオープンソースのプロトタイプを紹介します。

## NLUIとGUIの融合

Function CallとMCP（以後はTool、もしくはTool Callと呼びます）は、LLMに外部機能を提供する仕組みとして登場しました。これらは、JSON形式のパラメータを受け取り、JSON形式の結果を返すという、テキストベースのインターフェイスです。

Tool Callの結果として、アプリケーション独自のウィンドウを表示したり、ブラウザーで特定のページを開くことは可能ですが、それらはチャットインターフェイスとは切り離されており、「NLUI（Natural Language UI）とGUIの融合」とは呼べません。

この問題を解決するために、MulmoChatではTool Callの仕組みを拡張し、NLUIとGUIの自然な統合を実現しました。具体的には、Tool Callのreturn valueを拡張し、LLMへの返答に加えて、ユーザーに表示すべきTool-specificなデータを返すことを可能にしています。このデータの表示は、システムに登録されたTool専用のビューアーが担当します。

このアーキテクチャにより、アプリケーションはチャット（NLUI）の流れの中で、独自のインタラクティブなGUIをリアルタイムに生成・操作できるようになります。

以下は、Excelに相当する表計算アプリケーションを、このアーキテクチャ上で動作させた場合の一例です。
「SpreadSheet」アプリケーションは、LLMが呼び出せるtoolと、tool-specificなデータを表示するビューアーを登録する。

1. ユーザーが「Shows me the present value of $1000 monthly income over a year, making it easy to change the discount rate.」と指示を与える。
2. LLMはユーザーの意図（intent）を解釈し、"SpreadSheet" toolを呼び出すためのJSONを構築する。
3. Toolは、LLMに対して「表計算データを生成・表示中である」と通知し、システムに対しては生成したスプレッドシートデータを返す。
4. システムは返されたデータタイプを判定し、対応するビューアーを起動する。
5. ビューアーが生成されたスプレッドシートをユーザーに表示する。
6. ユーザーはGUI上で直接操作を行い、その結果が再びチャットコンテキスト（NLUI）にフィードバックされる。

このように、MulmoChatでは、LLM・GUI・ユーザーの三者が同一の文脈で連続的にやりとりできる。これこそが、NLUIとGUIの真の融合であり、AI-Nativeなコンピューティング環境における新しいユーザー体験の核となります。




