# The Dawn of the AI-Native Operating System

ChatGPTがOpenAIから発表されて3年が経とうとしています。その後、Function Call、MCP、Code Interpreter、Artifact、Multi-modal LLM、Agentなど、数多くの仕組みが生まれました。しかし、ChatGPTの基本的なインターフェイスはいまだに「テキストベースのチャット」に留まっています。

私たちソフトウェア・エンジニアの間で、Claude Codeのようなチャット形式のプログラミング環境が広く使われている事実は、LLMと人間の間の**自然言語インターフェイス（Natural Language Interface）**が、既存のGUIを超えるポテンシャルを持つことを示しています。

一方、MicrosoftのCoPilotのように、従来のアプリケーション（Excelなど）に自然言語インターフェイスを後付けする試みは、必ずしも成功していません。それは、これらのアプリケーションが「LLMが存在しない時代の設計思想」に基づいているからです。

同じ理由で、LLMにブラウザや既存アプリを操作させるアプローチにも限界があります。真にAIネイティブなアプローチとは、アプリケーションの機能をAPIとしてLLMに提示し、ユーザーの意図（Intent）を一連のAPIコールに変換することです。LLMが、ユーザーとアプリケーションの間のインタープリタの役割を果たすのです。

つまり、自然言語を理解するLLMの存在を前提としたAI-NativeなコンピュータのUser Experienceは、ユーザーとLLMの間のNLUIと、ユーザーとアプリケーションの間のGUIを融合したユーザー体験を提供すべきであり、アプリケーションのアーキテクチャそのものも従来とは大きく異なるものである必要があるのです。

本稿では、「AI-Nativeなコンピュータ（OS）のUser Experienceとアプリケーション・アーキテクチャ」という視点から、業界全体が向かうべき方向性を示すために設計された**MulmoChat（Multi-modal Chat）**というオープンソースのプロトタイプを紹介します。

## NLUIとGUIの融合

Function CallとMCP（以後はTool、もしくはTool Callと呼びます）は、LLMにさまざまな機能を提供する仕組みとして作られましたが、基本的にはJSONの形で渡されたパラメータに基づいてなんらかの処理をし、JSONの形で結果を返すという、テキストベースの仕組みです。

Tool Callの結果、アプリケーション独自のウィンドウを表示する、ブラウザーで特定のページを表示する、などは可能ですが、それは、ユーザーとLLMの間のチャットインターフェイスとは切り離されたもので、「NLUIとGUIの融合」とは程遠いものです。

この問題を解決するために、MulmoChatにおいては、Toll Callの仕組みを拡張し、「NLUIとGUIの融合」を実現しています。具体的には、Tool Callのreturn valueを拡張し、LLMへの返事に加えて、（ユーザーに表示すべき）Tool-specificなデータを返すことを可能にしています（そのデータの表示は、システムに登録された、Tool-specificなビューアーが行います）。

このアーキテクチャの採用により、アプリケーションは、一連のチャット（NLUI）の中で、ユーザーとの間にアプリケーション独自のインタラクティブなインターフェイス(GUI)を持つことが可能になります。

以下が、Excelに相当する表計算アプリをこのアークテクチャ化で動かす場合のインタラクションです。

1. "SpreadSheet"というアプリケーションは、LLMが呼ぶことができるtoolと、tool-specificなデータを表示できるビューアーを登録
2. ユーザーが「Shows me the present value of $1000 monthly income over a year, making it easy to change the discount rate.」とLLMに対して指示。
3. LLMがユーザーのリクエストに答えるには、"SpreadSheet"toolを使うべき、と判断し（intentのインタープリテーション）、必要なJSONを構築してtoolを呼び出す
4. そのToolは、LLMに対しては、表計算データをユーザーに表示していることだけを伝え、システムに対しては、LLMが生成したスプレッドシートをtool-specificなデータとして返す
5. データを受け取ったシステムは、そのデータタイプに紐づいたビューアーに表示される
6. 専用のビューアーが、作られたスプレッドシートをユーザーに向けて表示
7. ユーザーは、このGUIと直接インタラクション




